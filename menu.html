<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>ãƒ¡ãƒ‹ãƒ¥ãƒ¼ | Multi-X Utility</title>
<style>
:root{--p:#d4af37;--bg:#0f172a;--card:#1e293b;--txt:#f8fafc}
body{font-family:sans-serif;background:var(--bg);color:var(--txt);margin:0;display:flex;flex-direction:column;align-items:center;min-height:100vh;padding-bottom:50px}
#pwa-banner{display:none;width:100%;background:var(--p);color:#000;padding:12px;font-weight:bold;font-size:0.85rem;text-align:center;box-shadow:0 2px 10px rgba(0,0,0,0.5);cursor:pointer;position:sticky;top:0;z-index:9999}
header{padding:40px 20px;text-align:center}
.credit-main{font-size:0.9rem;color:var(--p);letter-spacing:2px;margin-bottom:8px;font-weight:bold}
.menu-title{margin:0;font-size:2rem;letter-spacing:2px}
.menu-grid{display:grid;grid-template-columns:1fr;gap:15px;width:92%;max-width:480px;margin-bottom:30px}
.item{background:var(--card);padding:22px;border-radius:18px;text-decoration:none;color:white;display:flex;justify-content:space-between;align-items:center;border-left:6px solid var(--p);box-shadow:0 4px 15px rgba(0,0,0,0.3);transition:0.2s;position:relative;overflow:hidden}
.item:active{background:var(--p);color:#000}
.item-text{display:flex;flex-direction:column}
.item-title{font-weight:bold;font-size:1.15rem;margin-bottom:4px}
.item-desc{font-size:0.8rem;color:#94a3b8}
.arrow{color:var(--p);font-weight:bold;font-size:1.2rem}

/* NEWãƒãƒ¼ã‚¯ã®ã‚¹ã‚¿ã‚¤ãƒ«ï¼ˆJSã§åˆ¶å¾¡ï¼‰ */
.new-badge::after{content:"NEW";position:absolute;top:5px;right:5px;background:var(--alert,#ef4444);color:#fff;font-size:0.6rem;padding:2px 6px;border-radius:4px;font-weight:bold;box-shadow:0 0 10px rgba(239,68,68,0.5)}

.item-special{border:2px solid var(--p);background:rgba(212,175,55,0.08);border-left:8px solid var(--p)}

.news-section{width:92%;max-width:480px;background:rgba(255,255,255,0.05);border-radius:20px;padding:20px;margin-bottom:30px;box-sizing:border-box;border:1px solid #334155}
.news-title{font-size:0.9rem;color:var(--p);font-weight:bold;margin-bottom:15px}
.news-item{font-size:0.85rem;color:#cbd5e1;padding:10px 0;display:flex;gap:12px;border-bottom:1px solid rgba(255,255,255,0.1)}
.share-btn{width:92%;max-width:480px;padding:20px;border-radius:18px;border:2px solid var(--p);background:transparent;color:var(--p);font-weight:bold;font-size:1.1rem;cursor:pointer;margin-bottom:40px}
.footer-nav{display:flex;gap:20px;margin-top:20px}
.footer-nav a{color:#64748b;font-size:0.8rem;text-decoration:none;border-bottom:1px solid #334155}
</style>
</head>
<body>

<div id="pwa-banner" onclick="installPWA()"> âœ¨ ãƒ›ãƒ¼ãƒ ç”»é¢ã«è¿½åŠ ã—ã¦ã‚¢ãƒ—ãƒªã¨ã—ã¦ä½¿ç”¨ã™ã‚‹ </div>

<header>
    <div class="credit-main">åˆ¶ä½œï¼šç¯ ãƒäº•ä¹—å‹™åŒº äºŒå‘¨å¹´è¨˜å¿µ</div>
    <h1 class="menu-title">æ©Ÿèƒ½ä¸€è¦§</h1>
</header>

<div class="menu-grid">
    <a href="qr.html" class="item item-special">
        <div class="item-text">
            <span class="item-title" style="color:var(--p)">QRãƒ„ãƒ¼ãƒ« & ã‚²ãƒ¼ãƒˆ ğŸ”³</span>
            <span class="item-desc">ä½œæˆãƒ»èª­å–ãƒ»èªè¨¼ã‚’ä¸€æ‹¬ç®¡ç†</span>
        </div>
        <div class="arrow">ï¼</div>
    </a>

    <a href="RecMemo.html" class="item" id="rec-memo-link">
        <div class="item-text">
            <span class="item-title">RecMemoï¼ˆéŒ²éŸ³ãƒ»ãƒ¡ãƒ¢ï¼‰ğŸ¤</span>
            <span class="item-desc">ãƒœã‚¤ã‚¹ãƒ¬ã‚³ãƒ¼ãƒ€ãƒ¼ã¨è‡ªå‹•ä¿å­˜ãƒ¡ãƒ¢</span>
        </div>
        <div class="arrow">ï¼</div>
    </a>

    <a href="calc.html" class="item"><div class="item-text"><span class="item-title">é–¢æ•°é›»å“</span><span class="item-desc">æ™®é€š â‡„ é–¢æ•° åˆ‡ã‚Šæ›¿ãˆ</span></div><div class="arrow">ï¼</div></a>
    <a href="timer.html" class="item"><div class="item-text"><span class="item-title">ã‚¿ã‚¤ãƒãƒ¼</span><span class="item-desc">ãƒªãƒ­ãƒ¼ãƒ‰å¯¾ç­–æ¸ˆ</span></div><div class="arrow">ï¼</div></a>
    <a href="sw.html" class="item"><div class="item-text"><span class="item-title">ã‚¹ãƒˆãƒƒãƒ—ã‚¦ã‚©ãƒƒãƒ</span><span class="item-desc">æ­£ç¢ºãªé‹è¡Œè¨ˆæ¸¬</span></div><div class="arrow">ï¼</div></a>
    <a href="alarm.html" class="item"><div class="item-text"><span class="item-title">ã‚¢ãƒ©ãƒ¼ãƒ </span><span class="item-desc">æŒ‡å®šæ™‚åˆ»ã«é€šçŸ¥</span></div><div class="arrow">ï¼</div></a>
    <a href="convert.html" class="item"><div class="item-text"><span class="item-title">å˜ä½å¤‰æ›</span><span class="item-desc">é•·ã•ã‚„é‡ã•ã®è¨ˆç®—</span></div><div class="arrow">ï¼</div></a>
    <a href="pass.html" class="item"><div class="item-text"><span class="item-title">ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ä½œæˆ</span><span class="item-desc">å®‰å…¨ãªæ–‡å­—åˆ—ç”Ÿæˆ</span></div><div class="arrow">ï¼</div></a>
    <a href="level.html" class="item"><div class="item-text"><span class="item-title">æ°´å¹³å™¨</span><span class="item-desc">ã‚¹ãƒãƒ›ã§è§’åº¦æ¸¬å®š</span></div><div class="arrow">ï¼</div></a>
    
    <a href="howtouse.html" class="item" style="border-left:6px solid #64748b">
        <div class="item-text">
            <span class="item-title">ä½¿ã„æ–¹ã‚¬ã‚¤ãƒ‰</span>
            <span class="item-desc">æ“ä½œæ–¹æ³•ã¨æ¨å¥¨ç’°å¢ƒ</span>
        </div>
        <div class="arrow">ï¼</div>
    </a>
</div>

<div class="news-section">
    <div class="news-title">ğŸ“¢ ãŠçŸ¥ã‚‰ã› (News)</div>
    <div id="news-list">
        <div class="news-item">èª­ã¿è¾¼ã¿ä¸­...</div>
    </div>
</div>

<button class="share-btn" onclick="shareApp()">ğŸ”— ã‚¢ãƒ—ãƒªã‚’ç´¹ä»‹ã™ã‚‹ (Share)</button>

<div class="footer-nav">
    <a href="terms.html">åˆ©ç”¨è¦ç´„</a>
    <a href="privacy.html">ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼</a>
</div>

<script>
// --- NEWãƒãƒ¼ã‚¯ã®è‡ªå‹•åˆ¤å®š (1é€±é–“) ---
function setNewBadge() {
    const releaseDate = new Date('2026-02-14'); // ãƒªãƒªãƒ¼ã‚¹æ—¥ã‚’è¨­å®š
    const today = new Date();
    const diffTime = Math.abs(today - releaseDate);
    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
    
    if (diffDays <= 7) {
        document.getElementById('rec-memo-link').classList.add('new-badge');
    }
}

// --- ãŠçŸ¥ã‚‰ã›ã®èª­ã¿è¾¼ã¿ä¿®æ­£ ---
async function loadNews() {
    const list = document.getElementById('news-list');
    try {
        const response = await fetch('news.md');
        if (!response.ok) throw new Error();
        const text = await response.text();
        list.innerHTML = "";
        
        const lines = text.trim().split('\n');
        lines.forEach(line => {
            const parts = line.split('|');
            if(parts.length >= 2) {
                const div = document.createElement('div');
                div.className = 'news-item';
                div.innerHTML = `<span style="color:var(--p);font-family:monospace;white-space:nowrap">${parts[0].trim()}</span><span>${parts[1].trim()}</span>`;
                list.appendChild(div);
            }
        });
    } catch (e) {
        list.innerHTML = "<div class='news-item'>ç¾åœ¨ã€æ–°ã—ã„ãŠçŸ¥ã‚‰ã›ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</div>";
    }
}

async function shareApp() {
    const url = window.location.href.replace('menu.html', 'index.html');
    if (navigator.share) {
        try { await navigator.share({title: 'Multi-X Utility', url: url}); } catch(e){}
    }
}

let deferredPrompt;
window.addEventListener('beforeinstallprompt', (e) => {
    e.preventDefault();
    deferredPrompt = e;
    document.getElementById('pwa-banner').style.display = 'block';
});

function installPWA() {
    if (deferredPrompt) {
        deferredPrompt.prompt();
        deferredPrompt.userChoice.then(() => {
            document.getElementById('pwa-banner').style.display = 'none';
            deferredPrompt = null;
        });
    }
}

// å®Ÿè¡Œ
setNewBadge();
loadNews();
</script>
</body>
</html>
