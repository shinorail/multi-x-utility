<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>ようこそ | Multi-X Utility</title>
<link rel="manifest" href="manifest.json">
<style>
:root{--p:#d4af37;--bg:#020617;--card:#1e293b;--txt:#f8fafc}
body{font-family:sans-serif;background:var(--bg);color:var(--txt);margin:0;overflow-x:hidden;display:flex;flex-direction:column;min-height:100vh}
.hero{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:20px;background:radial-gradient(circle at center, #1e293b 0%, #020617 100%)}
.anniv-badge{background:var(--p);color:#000;padding:4px 12px;border-radius:50px;font-weight:bold;font-size:0.8rem;margin-bottom:15px;letter-spacing:1px}
.logo-circle{width:100px;height:100px;background:transparent;border:2px solid var(--p);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:2.5rem;font-weight:bold;color:var(--p);margin-bottom:20px;box-shadow:0 0 20px rgba(212,175,55,0.2);animation:float 3s ease-in-out infinite}
@keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-15px)}}
h1{font-size:2.5rem;margin:0;letter-spacing:1px}
.credit{font-size:1.1rem;color:var(--p);margin:10px 0 25px;letter-spacing:3px;font-weight:bold}
p{color:#94a3b8;font-size:0.95rem;max-width:320px;line-height:1.7;margin-bottom:40px}
.btn-main{width:260px;padding:20px;border-radius:50px;background:var(--p);color:#000;font-size:1.1rem;font-weight:bold;text-decoration:none;transition:0.3s;box-shadow:0 10px 20px rgba(0,0,0,0.3);border:none;cursor:pointer;text-align:center}
.btn-main:active{transform:scale(0.95)}
#install-banner{display:none;position:fixed;bottom:20px;left:50%;transform:translateX(-50%);width:90%;max-width:400px;background:#fff;color:#000;padding:15px;border-radius:15px;box-shadow:0 10px 30px rgba(0,0,0,0.5);z-index:1000;animation:slideUp 0.5s ease}
@keyframes slideUp{from{transform:translate(-50%,100%)}to{transform:translate(-50%,0)}}
.banner-content{display:flex;align-items:center;gap:15px}
.banner-icon{width:45px;height:45px;background:var(--bg);color:var(--p);border-radius:10px;display:flex;align-items:center;justify-content:center;font-weight:bold}
.banner-btn{background:var(--p);border:none;color:#000;padding:8px 15px;border-radius:8px;font-weight:bold;cursor:pointer}
</style>
</head>
<body>
<div class="hero">
    <div class="anniv-badge">2nd ANNIVERSARY</div>
    <div class="logo-circle">信</div>
    <h1>Multi-X Utility</h1>
    <div class="credit">制作：篠ノ井乗務区</div>
    <p>日常の計算から運行計測まで。<br>二周年を記念して贈る、<br>特別仕様のオールインワン・アプリ。</p>
    <a href="menu.html" class="btn-main">アプリを開始する</a>
</div>
<div id="install-banner">
    <div class="banner-content">
        <div class="banner-icon">信</div>
        <div style="flex:1">
            <div style="font-weight:bold;font-size:0.9rem">Multi-X Utility</div>
            <div style="font-size:0.7rem;color:#666">ホーム画面に追加して便利に使う</div>
        </div>
        <button class="banner-btn" onclick="pInstall()">追加</button>
    </div>
</div>
<script>
if ('serviceWorker' in navigator) {navigator.serviceWorker.register('sw.js');}
let defP;
const bnr = document.getElementById('install-banner');
window.addEventListener('beforeinstallprompt', (e) => {
    e.preventDefault();
    defP = e;
    bnr.style.display = 'block';
});
async function pInstall() {
    if (defP) {
        defP.prompt();
        const { outcome } = await defP.userChoice;
        if (outcome === 'accepted') { bnr.style.display = 'none'; }
        defP = null;
    }
}
window.addEventListener('appinstalled', () => { bnr.style.display = 'none'; });
</script>
</body>
</html>
